(window.webpackJsonp=window.webpackJsonp||[]).push([["wc.gs"],{521:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(196),r=n(195),u=n(17),l=n(479),s=n(478),d=n(500),i=n(497),m=n(466),p=n(475),b=n(476),g=n(498),j=n(471),O=n(472),f=n(473),w=n(477),h=n(474),k=n(522),E=n.n(k);const P=["rgba(0, 128, 0, 0.25)"];function T(e){return{currentPotNum:0,selectedTeam:null,pickedGroup:null,hungPot:e[0]}}t.default=Object(a.memo)(({pots:e})=>{const[t,n]=Object(a.useState)(r("draw-")),k=Object(a.useMemo)(()=>e.map(e=>o(e)),[e,t]),G=Object(a.useMemo)(()=>e[0].map(e=>[]),[e,t]),N=Object(a.useMemo)(()=>T(k),[k]),[{currentPotNum:y,selectedTeam:x,pickedGroup:C,hungPot:v},M]=Object(l.a)(N),[,$]=Object(u.a)(),I=Object(i.a)(E.a),[J,S]=Object(s.a)(),[A,W]=Object(d.a)(3e3);Object(a.useEffect)(()=>{x&&B()},[x]),Object(a.useEffect)(()=>{const e=k[y].findIndex(e=>e.host);z(e)},[t]);const q=Object(a.useCallback)(()=>{n(r("draw-")),M(T(e))},[e]),z=Object(a.useCallback)(async e=>{const t=k[y];M({hungPot:t.slice(),selectedTeam:t.splice(e,1)[0],pickedGroup:null})},[k,y]),B=async()=>{if(!x)throw new Error("no selected team");let e;W.set(x);try{e=await(async e=>{return(await I({pots:k,groups:G,selectedTeam:e,currentPotNum:y})).pickedGroup})(x)}catch(e){return console.error(e),void $({error:"Could not determine the group"})}G[e].push(x);const t=k[y].length>0?y:y+1;S.add(x),W.reset(),M({selectedTeam:null,pickedGroup:e,hungPot:k[t],currentPotNum:t})},D=y>=k.length;return c.a.createElement(h.a,null,c.a.createElement(j.a,null,c.a.createElement(b.a,{selectedTeams:x&&[x],initialPots:e,pots:k,currentPotNum:y}),c.a.createElement(g.a,{maxTeams:k.length,currentPotNum:y,groups:G,possibleGroups:null,airborneTeams:J,groupColors:P})),c.a.createElement(O.a,null,c.a.createElement(f.a,{forceNoSelect:!!x,display:!D,selectedTeam:x,pot:v,onPick:z}),c.a.createElement(w.a,{long:!0,calculating:A,completed:D,selectedTeam:x,pickedGroup:C,possibleGroups:null,numGroups:G.length,reset:q})),J.map(e=>{const t=G.findIndex(t=>t.includes(e)),n=Object(m.a)(t),a=G[t].indexOf(e);return c.a.createElement(p.a,{key:e.id,from:`[data-cellid='${e.id}']`,to:`[data-cellid='${n}${a}']`,duration:350,data:e,onAnimationEnd:S.remove})}))})},522:function(e,t,n){e.exports=function(){return new Worker(n.p+"a245764ea3723467a457.worker.js")}}}]);